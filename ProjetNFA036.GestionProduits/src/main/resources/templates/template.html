<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec=https://www.thymeleaf.org/thymeleaf-extras-springsecurity5>
<link rel="stylesheet" type="text/css"
	href="webjars/bootstrap/4.3.1/css/bootstrap.min.css" />
<script src="webjars/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript"
	src="webjars/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/13c7aef6c8.js"></script>

</head>
<head>
<meta charset="utf-8">
<title>Gestion des Produits</title>
</head>
<body>
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">

		<a class="navbar-brand" href="#"> <i class="fab fa-product-hunt"></i>
			Gestion Produits
		</a>

		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link"
				th:href="@{listerProduitsStock}"> <i class="fas fa-home"></i>
					Home
			</a></li>

			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"><i class="fas fa-pizza-slice"></i>
					Produits de référence </a>
				<div class="dropdown-menu">
					<!-- sec:authorize : cache le menu ajouter si pas les droits admin -->
					<a sec:authorize="hasRole('ADMIN')" class="dropdown-item"
						th:href="@{showCreate}"><i class="fas fa-plus"></i> Ajouter</a> <a
						class="dropdown-item" th:href="@{listerProduits}"><i
						class="fas fa-list"></i> Lister</a>
				</div></li>


			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"> <i class="fas fa-clipboard-list"></i>
					Stock
			</a>
				<div class="dropdown-menu">
					<a sec:authorize="hasRole('ADMIN')" class="dropdown-item"
						th:href="@{showCreateStock}"><i class="fas fa-plus"></i>
						Ajouter</a> <a class="dropdown-item" th:href="@{listerProduitsStock}"><i
						class="fas fa-list"></i> Lister</a>
				</div></li>

			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"> <i class="fas fa-user-friends"></i>
					Utilisateurs
			</a>
				<div class="dropdown-menu">
					<a sec:authorize="hasRole('ADMIN')" class="dropdown-item"
						th:href="@{showCreateUser}"><i class="fas fa-plus"></i>
						Ajouter</a> <a class="dropdown-item" th:href="@{listerUser}"><i
						class="fas fa-list"></i> Lister</a>
				</div></li>

			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"><i class="fas fa-ellipsis-v"></i>
					Catégories</a>

				<div class="dropdown-menu">
					<a sec:authorize="hasRole('ADMIN')" class="dropdown-item"
						th:href="@{showCreateCategorie}"><i class="fas fa-plus"></i>
						Ajouter</a> <a class="dropdown-item" th:href="@{listerCategorie}"><i
						class="fas fa-list"></i> Lister</a>
				</div></li>

			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"><i class="fas fa-utensils"></i>
					Restaurants</a>


				<div class="dropdown-menu">
					<a sec:authorize="hasRole('ADMIN')" class="dropdown-item"
						th:href="@{createRestaurant}"><i class="fas fa-plus"></i>
						Ajouter</a> <a class="dropdown-item" th:href="@{createRestaurant}"><i
						class="fas fa-list"></i> Lister</a>
				</div></li>





			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"> <i class="fas fa-refrigerator"></i>
					Frigos
			</a>
				<div class="dropdown-menu">
					<a sec:authorize="hasRole('ADMIN')" class="dropdown-item"
						th:href="@{createRestaurant}"><i class="fas fa-plus"></i>
						Ajouter</a> <a class="dropdown-item" th:href="@{createRestaurant}"><i
						class="fas fa-list"></i> Lister</a>
				</div></li>


			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"><i class="fas fa-history"></i> Historique</a>
				<div class="dropdown-menu">
					<a class="dropdown-item" th:href="@{listerHistorique}"><i
						class="fas fa-list"></i> Afficher l'historique</a>
				</div></li>
		</ul>


		<ul class="navbar-nav ml-auto">
			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" href="#" id="navbardrop"
				data-toggle="dropdown"> <i class="fas fa-sign-in-alt"></i> <span
					sec:authentication="name"></span>
			</a>
				<div class="dropdown-menu">
					<!-- isAuthenticated() : fonction boolean qui renvoie true quand connecté, sinon faux.
				Renvoie Login quand on est pas connecté, sinon l'enlève. 
				 -->
					<a sec:authorize="!isAuthenticated()" class="dropdown-item"
						th:href="@{/login}"> <i class="fas fa-users"></i> login
					</a> <a sec:authorize="isAuthenticated()" class="dropdown-item"
						th:href="@{logout}"> <i class="fas fa-user-alt-slash"></i>
						logout
					</a>

				</div></li>
		</ul>
	</nav>
	<!-- layout reprend le layout du namespace au début. Dit à Thym qu'on a crée une zone de la page myContent. Toutes les pages qui vont etre créées vont s'afficher dans ce fragment MyCOntent -->
	<section layout:fragment="Mycontent"></section>
</body>
</html>